{"ast":null,"code":"/**\n * @licstart The following is the entire license notice for the\n * Javascript code in this page\n *\n * Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @licend The above is the entire license notice for the\n * Javascript code in this page\n */\n\"use strict\";\n\nvar _classCallCheck = require(\"/Users/mac/Desktop/projects/izzielau.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/mac/Desktop/projects/izzielau.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar _slicedToArray = require(\"/Users/mac/Desktop/projects/izzielau.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nvar _regeneratorRuntime = require(\"/Users/mac/Desktop/projects/izzielau.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\");\n\nvar _asyncToGenerator = require(\"/Users/mac/Desktop/projects/izzielau.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/asyncToGenerator\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isValidRotation = isValidRotation;\nexports.isValidScrollMode = isValidScrollMode;\nexports.isValidSpreadMode = isValidSpreadMode;\nexports.isPortraitOrientation = isPortraitOrientation;\nexports.getGlobalEventBus = getGlobalEventBus;\nexports.clamp = clamp;\nexports.getPDFFileNameFromURL = getPDFFileNameFromURL;\nexports.noContextMenuHandler = noContextMenuHandler;\nexports.parseQueryString = parseQueryString;\nexports.backtrackBeforeAllVisibleElements = backtrackBeforeAllVisibleElements;\nexports.getVisibleElements = getVisibleElements;\nexports.roundToDivide = roundToDivide;\nexports.getPageSizeInches = getPageSizeInches;\nexports.approximateFraction = approximateFraction;\nexports.getOutputScale = getOutputScale;\nexports.scrollIntoView = scrollIntoView;\nexports.watchScroll = watchScroll;\nexports.binarySearchFirstItem = binarySearchFirstItem;\nexports.normalizeWheelEventDelta = normalizeWheelEventDelta;\nexports.waitOnEventOrTimeout = waitOnEventOrTimeout;\nexports.moveToEndOfArray = moveToEndOfArray;\nexports.WaitOnType = exports.animationStarted = exports.ProgressBar = exports.EventBus = exports.NullL10n = exports.SpreadMode = exports.ScrollMode = exports.TextLayerMode = exports.RendererType = exports.PresentationModeState = exports.VERTICAL_PADDING = exports.SCROLLBAR_PADDING = exports.MAX_AUTO_SCALE = exports.UNKNOWN_SCALE = exports.MAX_SCALE = exports.MIN_SCALE = exports.DEFAULT_SCALE = exports.DEFAULT_SCALE_VALUE = exports.CSS_UNITS = exports.AutoPrintRegExp = void 0;\nvar CSS_UNITS = 96.0 / 72.0;\nexports.CSS_UNITS = CSS_UNITS;\nvar DEFAULT_SCALE_VALUE = \"auto\";\nexports.DEFAULT_SCALE_VALUE = DEFAULT_SCALE_VALUE;\nvar DEFAULT_SCALE = 1.0;\nexports.DEFAULT_SCALE = DEFAULT_SCALE;\nvar MIN_SCALE = 0.1;\nexports.MIN_SCALE = MIN_SCALE;\nvar MAX_SCALE = 10.0;\nexports.MAX_SCALE = MAX_SCALE;\nvar UNKNOWN_SCALE = 0;\nexports.UNKNOWN_SCALE = UNKNOWN_SCALE;\nvar MAX_AUTO_SCALE = 1.25;\nexports.MAX_AUTO_SCALE = MAX_AUTO_SCALE;\nvar SCROLLBAR_PADDING = 40;\nexports.SCROLLBAR_PADDING = SCROLLBAR_PADDING;\nvar VERTICAL_PADDING = 5;\nexports.VERTICAL_PADDING = VERTICAL_PADDING;\nvar PresentationModeState = {\n  UNKNOWN: 0,\n  NORMAL: 1,\n  CHANGING: 2,\n  FULLSCREEN: 3\n};\nexports.PresentationModeState = PresentationModeState;\nvar RendererType = {\n  CANVAS: \"canvas\",\n  SVG: \"svg\"\n};\nexports.RendererType = RendererType;\nvar TextLayerMode = {\n  DISABLE: 0,\n  ENABLE: 1,\n  ENABLE_ENHANCE: 2\n};\nexports.TextLayerMode = TextLayerMode;\nvar ScrollMode = {\n  UNKNOWN: -1,\n  VERTICAL: 0,\n  HORIZONTAL: 1,\n  WRAPPED: 2\n};\nexports.ScrollMode = ScrollMode;\nvar SpreadMode = {\n  UNKNOWN: -1,\n  NONE: 0,\n  ODD: 1,\n  EVEN: 2\n};\nexports.SpreadMode = SpreadMode;\nvar AutoPrintRegExp = /\\bprint\\s*\\(/;\nexports.AutoPrintRegExp = AutoPrintRegExp;\n\nfunction formatL10nValue(text, args) {\n  if (!args) {\n    return text;\n  }\n\n  return text.replace(/\\{\\{\\s*(\\w+)\\s*\\}\\}/g, function (all, name) {\n    return name in args ? args[name] : \"{{\" + name + \"}}\";\n  });\n}\n\nvar NullL10n = {\n  getLanguage: function getLanguage() {\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              return _context.abrupt(\"return\", \"en-us\");\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }))();\n  },\n  getDirection: function getDirection() {\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              return _context2.abrupt(\"return\", \"ltr\");\n\n            case 1:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }))();\n  },\n  get: function get(property, args, fallback) {\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              return _context3.abrupt(\"return\", formatL10nValue(fallback, args));\n\n            case 1:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }))();\n  },\n  translate: function translate(element) {\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }))();\n  }\n};\nexports.NullL10n = NullL10n;\n\nfunction getOutputScale(ctx) {\n  var devicePixelRatio = window.devicePixelRatio || 1;\n  var backingStoreRatio = ctx.webkitBackingStorePixelRatio || ctx.mozBackingStorePixelRatio || ctx.msBackingStorePixelRatio || ctx.oBackingStorePixelRatio || ctx.backingStorePixelRatio || 1;\n  var pixelRatio = devicePixelRatio / backingStoreRatio;\n  return {\n    sx: pixelRatio,\n    sy: pixelRatio,\n    scaled: pixelRatio !== 1\n  };\n}\n\nfunction scrollIntoView(element, spot) {\n  var skipOverflowHiddenElements = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var parent = element.offsetParent;\n\n  if (!parent) {\n    console.error(\"offsetParent is not set -- cannot scroll\");\n    return;\n  }\n\n  var offsetY = element.offsetTop + element.clientTop;\n  var offsetX = element.offsetLeft + element.clientLeft;\n\n  while (parent.clientHeight === parent.scrollHeight && parent.clientWidth === parent.scrollWidth || skipOverflowHiddenElements && getComputedStyle(parent).overflow === \"hidden\") {\n    if (parent.dataset._scaleY) {\n      offsetY /= parent.dataset._scaleY;\n      offsetX /= parent.dataset._scaleX;\n    }\n\n    offsetY += parent.offsetTop;\n    offsetX += parent.offsetLeft;\n    parent = parent.offsetParent;\n\n    if (!parent) {\n      return;\n    }\n  }\n\n  if (spot) {\n    if (spot.top !== undefined) {\n      offsetY += spot.top;\n    }\n\n    if (spot.left !== undefined) {\n      offsetX += spot.left;\n      parent.scrollLeft = offsetX;\n    }\n  }\n\n  parent.scrollTop = offsetY;\n}\n\nfunction watchScroll(viewAreaElement, callback) {\n  var debounceScroll = function debounceScroll(evt) {\n    if (rAF) {\n      return;\n    }\n\n    rAF = window.requestAnimationFrame(function viewAreaElementScrolled() {\n      rAF = null;\n      var currentX = viewAreaElement.scrollLeft;\n      var lastX = state.lastX;\n\n      if (currentX !== lastX) {\n        state.right = currentX > lastX;\n      }\n\n      state.lastX = currentX;\n      var currentY = viewAreaElement.scrollTop;\n      var lastY = state.lastY;\n\n      if (currentY !== lastY) {\n        state.down = currentY > lastY;\n      }\n\n      state.lastY = currentY;\n      callback(state);\n    });\n  };\n\n  var state = {\n    right: true,\n    down: true,\n    lastX: viewAreaElement.scrollLeft,\n    lastY: viewAreaElement.scrollTop,\n    _eventHandler: debounceScroll\n  };\n  var rAF = null;\n  viewAreaElement.addEventListener(\"scroll\", debounceScroll, true);\n  return state;\n}\n\nfunction parseQueryString(query) {\n  var parts = query.split(\"&\");\n  var params = Object.create(null);\n\n  for (var i = 0, ii = parts.length; i < ii; ++i) {\n    var param = parts[i].split(\"=\");\n    var key = param[0].toLowerCase();\n    var value = param.length > 1 ? param[1] : null;\n    params[decodeURIComponent(key)] = decodeURIComponent(value);\n  }\n\n  return params;\n}\n\nfunction binarySearchFirstItem(items, condition) {\n  var minIndex = 0;\n  var maxIndex = items.length - 1;\n\n  if (items.length === 0 || !condition(items[maxIndex])) {\n    return items.length;\n  }\n\n  if (condition(items[minIndex])) {\n    return minIndex;\n  }\n\n  while (minIndex < maxIndex) {\n    var currentIndex = minIndex + maxIndex >> 1;\n    var currentItem = items[currentIndex];\n\n    if (condition(currentItem)) {\n      maxIndex = currentIndex;\n    } else {\n      minIndex = currentIndex + 1;\n    }\n  }\n\n  return minIndex;\n}\n\nfunction approximateFraction(x) {\n  if (Math.floor(x) === x) {\n    return [x, 1];\n  }\n\n  var xinv = 1 / x;\n  var limit = 8;\n\n  if (xinv > limit) {\n    return [1, limit];\n  } else if (Math.floor(xinv) === xinv) {\n    return [1, xinv];\n  }\n\n  var x_ = x > 1 ? xinv : x;\n  var a = 0,\n      b = 1,\n      c = 1,\n      d = 1;\n\n  while (true) {\n    var p = a + c,\n        q = b + d;\n\n    if (q > limit) {\n      break;\n    }\n\n    if (x_ <= p / q) {\n      c = p;\n      d = q;\n    } else {\n      a = p;\n      b = q;\n    }\n  }\n\n  var result;\n\n  if (x_ - a / b < c / d - x_) {\n    result = x_ === x ? [a, b] : [b, a];\n  } else {\n    result = x_ === x ? [c, d] : [d, c];\n  }\n\n  return result;\n}\n\nfunction roundToDivide(x, div) {\n  var r = x % div;\n  return r === 0 ? x : Math.round(x - r + div);\n}\n\nfunction getPageSizeInches(_ref) {\n  var view = _ref.view,\n      userUnit = _ref.userUnit,\n      rotate = _ref.rotate;\n\n  var _view = _slicedToArray(view, 4),\n      x1 = _view[0],\n      y1 = _view[1],\n      x2 = _view[2],\n      y2 = _view[3];\n\n  var changeOrientation = rotate % 180 !== 0;\n  var width = (x2 - x1) / 72 * userUnit;\n  var height = (y2 - y1) / 72 * userUnit;\n  return {\n    width: changeOrientation ? height : width,\n    height: changeOrientation ? width : height\n  };\n}\n\nfunction backtrackBeforeAllVisibleElements(index, views, top) {\n  if (index < 2) {\n    return index;\n  }\n\n  var elt = views[index].div;\n  var pageTop = elt.offsetTop + elt.clientTop;\n\n  if (pageTop >= top) {\n    elt = views[index - 1].div;\n    pageTop = elt.offsetTop + elt.clientTop;\n  }\n\n  for (var i = index - 2; i >= 0; --i) {\n    elt = views[i].div;\n\n    if (elt.offsetTop + elt.clientTop + elt.clientHeight <= pageTop) {\n      break;\n    }\n\n    index = i;\n  }\n\n  return index;\n}\n\nfunction getVisibleElements(scrollEl, views) {\n  var sortByVisibility = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var horizontal = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  var top = scrollEl.scrollTop,\n      bottom = top + scrollEl.clientHeight;\n  var left = scrollEl.scrollLeft,\n      right = left + scrollEl.clientWidth;\n\n  function isElementBottomAfterViewTop(view) {\n    var element = view.div;\n    var elementBottom = element.offsetTop + element.clientTop + element.clientHeight;\n    return elementBottom > top;\n  }\n\n  function isElementRightAfterViewLeft(view) {\n    var element = view.div;\n    var elementRight = element.offsetLeft + element.clientLeft + element.clientWidth;\n    return elementRight > left;\n  }\n\n  var visible = [],\n      numViews = views.length;\n  var firstVisibleElementInd = numViews === 0 ? 0 : binarySearchFirstItem(views, horizontal ? isElementRightAfterViewLeft : isElementBottomAfterViewTop);\n\n  if (firstVisibleElementInd > 0 && firstVisibleElementInd < numViews && !horizontal) {\n    firstVisibleElementInd = backtrackBeforeAllVisibleElements(firstVisibleElementInd, views, top);\n  }\n\n  var lastEdge = horizontal ? right : -1;\n\n  for (var i = firstVisibleElementInd; i < numViews; i++) {\n    var view = views[i],\n        element = view.div;\n    var currentWidth = element.offsetLeft + element.clientLeft;\n    var currentHeight = element.offsetTop + element.clientTop;\n    var viewWidth = element.clientWidth,\n        viewHeight = element.clientHeight;\n    var viewRight = currentWidth + viewWidth;\n    var viewBottom = currentHeight + viewHeight;\n\n    if (lastEdge === -1) {\n      if (viewBottom >= bottom) {\n        lastEdge = viewBottom;\n      }\n    } else if ((horizontal ? currentWidth : currentHeight) > lastEdge) {\n      break;\n    }\n\n    if (viewBottom <= top || currentHeight >= bottom || viewRight <= left || currentWidth >= right) {\n      continue;\n    }\n\n    var hiddenHeight = Math.max(0, top - currentHeight) + Math.max(0, viewBottom - bottom);\n    var hiddenWidth = Math.max(0, left - currentWidth) + Math.max(0, viewRight - right);\n    var percent = (viewHeight - hiddenHeight) * (viewWidth - hiddenWidth) * 100 / viewHeight / viewWidth | 0;\n    visible.push({\n      id: view.id,\n      x: currentWidth,\n      y: currentHeight,\n      view: view,\n      percent: percent\n    });\n  }\n\n  var first = visible[0],\n      last = visible[visible.length - 1];\n\n  if (sortByVisibility) {\n    visible.sort(function (a, b) {\n      var pc = a.percent - b.percent;\n\n      if (Math.abs(pc) > 0.001) {\n        return -pc;\n      }\n\n      return a.id - b.id;\n    });\n  }\n\n  return {\n    first: first,\n    last: last,\n    views: visible\n  };\n}\n\nfunction noContextMenuHandler(evt) {\n  evt.preventDefault();\n}\n\nfunction isDataSchema(url) {\n  var i = 0;\n  var ii = url.length;\n\n  while (i < ii && url[i].trim() === \"\") {\n    i++;\n  }\n\n  return url.substring(i, i + 5).toLowerCase() === \"data:\";\n}\n\nfunction getPDFFileNameFromURL(url) {\n  var defaultFilename = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"document.pdf\";\n\n  if (typeof url !== \"string\") {\n    return defaultFilename;\n  }\n\n  if (isDataSchema(url)) {\n    console.warn(\"getPDFFileNameFromURL: \" + 'ignoring \"data:\" URL for performance reasons.');\n    return defaultFilename;\n  }\n\n  var reURI = /^(?:(?:[^:]+:)?\\/\\/[^\\/]+)?([^?#]*)(\\?[^#]*)?(#.*)?$/;\n  var reFilename = /[^\\/?#=]+\\.pdf\\b(?!.*\\.pdf\\b)/i;\n  var splitURI = reURI.exec(url);\n  var suggestedFilename = reFilename.exec(splitURI[1]) || reFilename.exec(splitURI[2]) || reFilename.exec(splitURI[3]);\n\n  if (suggestedFilename) {\n    suggestedFilename = suggestedFilename[0];\n\n    if (suggestedFilename.includes(\"%\")) {\n      try {\n        suggestedFilename = reFilename.exec(decodeURIComponent(suggestedFilename))[0];\n      } catch (ex) {}\n    }\n  }\n\n  return suggestedFilename || defaultFilename;\n}\n\nfunction normalizeWheelEventDelta(evt) {\n  var delta = Math.sqrt(evt.deltaX * evt.deltaX + evt.deltaY * evt.deltaY);\n  var angle = Math.atan2(evt.deltaY, evt.deltaX);\n\n  if (-0.25 * Math.PI < angle && angle < 0.75 * Math.PI) {\n    delta = -delta;\n  }\n\n  var MOUSE_DOM_DELTA_PIXEL_MODE = 0;\n  var MOUSE_DOM_DELTA_LINE_MODE = 1;\n  var MOUSE_PIXELS_PER_LINE = 30;\n  var MOUSE_LINES_PER_PAGE = 30;\n\n  if (evt.deltaMode === MOUSE_DOM_DELTA_PIXEL_MODE) {\n    delta /= MOUSE_PIXELS_PER_LINE * MOUSE_LINES_PER_PAGE;\n  } else if (evt.deltaMode === MOUSE_DOM_DELTA_LINE_MODE) {\n    delta /= MOUSE_LINES_PER_PAGE;\n  }\n\n  return delta;\n}\n\nfunction isValidRotation(angle) {\n  return Number.isInteger(angle) && angle % 90 === 0;\n}\n\nfunction isValidScrollMode(mode) {\n  return Number.isInteger(mode) && Object.values(ScrollMode).includes(mode) && mode !== ScrollMode.UNKNOWN;\n}\n\nfunction isValidSpreadMode(mode) {\n  return Number.isInteger(mode) && Object.values(SpreadMode).includes(mode) && mode !== SpreadMode.UNKNOWN;\n}\n\nfunction isPortraitOrientation(size) {\n  return size.width <= size.height;\n}\n\nvar WaitOnType = {\n  EVENT: \"event\",\n  TIMEOUT: \"timeout\"\n};\nexports.WaitOnType = WaitOnType;\n\nfunction waitOnEventOrTimeout(_ref2) {\n  var target = _ref2.target,\n      name = _ref2.name,\n      _ref2$delay = _ref2.delay,\n      delay = _ref2$delay === void 0 ? 0 : _ref2$delay;\n  return new Promise(function (resolve, reject) {\n    if (typeof target !== \"object\" || !(name && typeof name === \"string\") || !(Number.isInteger(delay) && delay >= 0)) {\n      throw new Error(\"waitOnEventOrTimeout - invalid parameters.\");\n    }\n\n    function handler(type) {\n      if (target instanceof EventBus) {\n        target._off(name, eventHandler);\n      } else {\n        target.removeEventListener(name, eventHandler);\n      }\n\n      if (timeout) {\n        clearTimeout(timeout);\n      }\n\n      resolve(type);\n    }\n\n    var eventHandler = handler.bind(null, WaitOnType.EVENT);\n\n    if (target instanceof EventBus) {\n      target._on(name, eventHandler);\n    } else {\n      target.addEventListener(name, eventHandler);\n    }\n\n    var timeoutHandler = handler.bind(null, WaitOnType.TIMEOUT);\n    var timeout = setTimeout(timeoutHandler, delay);\n  });\n}\n\nvar animationStarted = new Promise(function (resolve) {\n  window.requestAnimationFrame(resolve);\n});\nexports.animationStarted = animationStarted;\n\nfunction dispatchDOMEvent(eventName) {\n  var args = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  var details = Object.create(null);\n\n  if (args && args.length > 0) {\n    var obj = args[0];\n\n    for (var key in obj) {\n      var value = obj[key];\n\n      if (key === \"source\") {\n        if (value === window || value === document) {\n          return;\n        }\n\n        continue;\n      }\n\n      details[key] = value;\n    }\n  }\n\n  var event = document.createEvent(\"CustomEvent\");\n  event.initCustomEvent(eventName, true, true, details);\n  document.dispatchEvent(event);\n}\n\nvar EventBus = /*#__PURE__*/function () {\n  function EventBus() {\n    var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref3$dispatchToDOM = _ref3.dispatchToDOM,\n        dispatchToDOM = _ref3$dispatchToDOM === void 0 ? false : _ref3$dispatchToDOM;\n\n    _classCallCheck(this, EventBus);\n\n    this._listeners = Object.create(null);\n    this._dispatchToDOM = dispatchToDOM === true;\n\n    if (dispatchToDOM) {\n      console.error(\"The `eventBusDispatchToDOM` option/preference is deprecated, \" + \"add event listeners to the EventBus instance rather than the DOM.\");\n    }\n  }\n\n  _createClass(EventBus, [{\n    key: \"on\",\n    value: function on(eventName, listener) {\n      this._on(eventName, listener, {\n        external: true\n      });\n    }\n  }, {\n    key: \"off\",\n    value: function off(eventName, listener) {\n      this._off(eventName, listener, {\n        external: true\n      });\n    }\n  }, {\n    key: \"dispatch\",\n    value: function dispatch(eventName) {\n      var eventListeners = this._listeners[eventName];\n\n      if (!eventListeners || eventListeners.length === 0) {\n        if (this._dispatchToDOM) {\n          var _args5 = Array.prototype.slice.call(arguments, 1);\n\n          dispatchDOMEvent(eventName, _args5);\n        }\n\n        return;\n      }\n\n      var args = Array.prototype.slice.call(arguments, 1);\n      var externalListeners;\n      eventListeners.slice(0).forEach(function (_ref4) {\n        var listener = _ref4.listener,\n            external = _ref4.external;\n\n        if (external) {\n          if (!externalListeners) {\n            externalListeners = [];\n          }\n\n          externalListeners.push(listener);\n          return;\n        }\n\n        listener.apply(null, args);\n      });\n\n      if (externalListeners) {\n        externalListeners.forEach(function (listener) {\n          listener.apply(null, args);\n        });\n        externalListeners = null;\n      }\n\n      if (this._dispatchToDOM) {\n        dispatchDOMEvent(eventName, args);\n      }\n    }\n  }, {\n    key: \"_on\",\n    value: function _on(eventName, listener) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n      var eventListeners = this._listeners[eventName];\n\n      if (!eventListeners) {\n        this._listeners[eventName] = eventListeners = [];\n      }\n\n      eventListeners.push({\n        listener: listener,\n        external: (options && options.external) === true\n      });\n    }\n  }, {\n    key: \"_off\",\n    value: function _off(eventName, listener) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n      var eventListeners = this._listeners[eventName];\n\n      if (!eventListeners) {\n        return;\n      }\n\n      for (var i = 0, ii = eventListeners.length; i < ii; i++) {\n        if (eventListeners[i].listener === listener) {\n          eventListeners.splice(i, 1);\n          return;\n        }\n      }\n    }\n  }]);\n\n  return EventBus;\n}();\n\nexports.EventBus = EventBus;\nvar globalEventBus = null;\n\nfunction getGlobalEventBus() {\n  var dispatchToDOM = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n  console.error(\"getGlobalEventBus is deprecated, use a manually created EventBus instance instead.\");\n\n  if (!globalEventBus) {\n    globalEventBus = new EventBus({\n      dispatchToDOM: dispatchToDOM\n    });\n  }\n\n  return globalEventBus;\n}\n\nfunction clamp(v, min, max) {\n  return Math.min(Math.max(v, min), max);\n}\n\nvar ProgressBar = /*#__PURE__*/function () {\n  function ProgressBar(id) {\n    var _ref5 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        height = _ref5.height,\n        width = _ref5.width,\n        units = _ref5.units;\n\n    _classCallCheck(this, ProgressBar);\n\n    this.visible = true;\n    this.div = document.querySelector(id + \" .progress\");\n    this.bar = this.div.parentNode;\n    this.height = height || 100;\n    this.width = width || 100;\n    this.units = units || \"%\";\n    this.div.style.height = this.height + this.units;\n    this.percent = 0;\n  }\n\n  _createClass(ProgressBar, [{\n    key: \"_updateBar\",\n    value: function _updateBar() {\n      if (this._indeterminate) {\n        this.div.classList.add(\"indeterminate\");\n        this.div.style.width = this.width + this.units;\n        return;\n      }\n\n      this.div.classList.remove(\"indeterminate\");\n      var progressSize = this.width * this._percent / 100;\n      this.div.style.width = progressSize + this.units;\n    }\n  }, {\n    key: \"setWidth\",\n    value: function setWidth(viewer) {\n      if (!viewer) {\n        return;\n      }\n\n      var container = viewer.parentNode;\n      var scrollbarWidth = container.offsetWidth - viewer.offsetWidth;\n\n      if (scrollbarWidth > 0) {\n        this.bar.style.width = \"calc(100% - \".concat(scrollbarWidth, \"px)\");\n      }\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      if (!this.visible) {\n        return;\n      }\n\n      this.visible = false;\n      this.bar.classList.add(\"hidden\");\n      document.body.classList.remove(\"loadingInProgress\");\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      if (this.visible) {\n        return;\n      }\n\n      this.visible = true;\n      document.body.classList.add(\"loadingInProgress\");\n      this.bar.classList.remove(\"hidden\");\n    }\n  }, {\n    key: \"percent\",\n    get: function get() {\n      return this._percent;\n    },\n    set: function set(val) {\n      this._indeterminate = isNaN(val);\n      this._percent = clamp(val, 0, 100);\n\n      this._updateBar();\n    }\n  }]);\n\n  return ProgressBar;\n}();\n\nexports.ProgressBar = ProgressBar;\n\nfunction moveToEndOfArray(arr, condition) {\n  var moved = [],\n      len = arr.length;\n  var write = 0;\n\n  for (var read = 0; read < len; ++read) {\n    if (condition(arr[read])) {\n      moved.push(arr[read]);\n    } else {\n      arr[write] = arr[read];\n      ++write;\n    }\n  }\n\n  for (var _read = 0; write < len; ++_read, ++write) {\n    arr[write] = moved[_read];\n  }\n}","map":{"version":3,"sources":["/Users/mac/Desktop/projects/izzielau.github.io/node_modules/pdfjs-dist/lib/web/ui_utils.js"],"names":["Object","defineProperty","exports","value","isValidRotation","isValidScrollMode","isValidSpreadMode","isPortraitOrientation","getGlobalEventBus","clamp","getPDFFileNameFromURL","noContextMenuHandler","parseQueryString","backtrackBeforeAllVisibleElements","getVisibleElements","roundToDivide","getPageSizeInches","approximateFraction","getOutputScale","scrollIntoView","watchScroll","binarySearchFirstItem","normalizeWheelEventDelta","waitOnEventOrTimeout","moveToEndOfArray","WaitOnType","animationStarted","ProgressBar","EventBus","NullL10n","SpreadMode","ScrollMode","TextLayerMode","RendererType","PresentationModeState","VERTICAL_PADDING","SCROLLBAR_PADDING","MAX_AUTO_SCALE","UNKNOWN_SCALE","MAX_SCALE","MIN_SCALE","DEFAULT_SCALE","DEFAULT_SCALE_VALUE","CSS_UNITS","AutoPrintRegExp","UNKNOWN","NORMAL","CHANGING","FULLSCREEN","CANVAS","SVG","DISABLE","ENABLE","ENABLE_ENHANCE","VERTICAL","HORIZONTAL","WRAPPED","NONE","ODD","EVEN","formatL10nValue","text","args","replace","all","name","getLanguage","getDirection","get","property","fallback","translate","element","ctx","devicePixelRatio","window","backingStoreRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","backingStorePixelRatio","pixelRatio","sx","sy","scaled","spot","skipOverflowHiddenElements","parent","offsetParent","console","error","offsetY","offsetTop","clientTop","offsetX","offsetLeft","clientLeft","clientHeight","scrollHeight","clientWidth","scrollWidth","getComputedStyle","overflow","dataset","_scaleY","_scaleX","top","undefined","left","scrollLeft","scrollTop","viewAreaElement","callback","debounceScroll","evt","rAF","requestAnimationFrame","viewAreaElementScrolled","currentX","lastX","state","right","currentY","lastY","down","_eventHandler","addEventListener","query","parts","split","params","create","i","ii","length","param","key","toLowerCase","decodeURIComponent","items","condition","minIndex","maxIndex","currentIndex","currentItem","x","Math","floor","xinv","limit","x_","a","b","c","d","p","q","result","div","r","round","view","userUnit","rotate","x1","y1","x2","y2","changeOrientation","width","height","index","views","elt","pageTop","scrollEl","sortByVisibility","horizontal","bottom","isElementBottomAfterViewTop","elementBottom","isElementRightAfterViewLeft","elementRight","visible","numViews","firstVisibleElementInd","lastEdge","currentWidth","currentHeight","viewWidth","viewHeight","viewRight","viewBottom","hiddenHeight","max","hiddenWidth","percent","push","id","y","first","last","sort","pc","abs","preventDefault","isDataSchema","url","trim","substring","defaultFilename","warn","reURI","reFilename","splitURI","exec","suggestedFilename","includes","ex","delta","sqrt","deltaX","deltaY","angle","atan2","PI","MOUSE_DOM_DELTA_PIXEL_MODE","MOUSE_DOM_DELTA_LINE_MODE","MOUSE_PIXELS_PER_LINE","MOUSE_LINES_PER_PAGE","deltaMode","Number","isInteger","mode","values","size","EVENT","TIMEOUT","target","delay","Promise","resolve","reject","Error","handler","type","_off","eventHandler","removeEventListener","timeout","clearTimeout","bind","_on","timeoutHandler","setTimeout","dispatchDOMEvent","eventName","details","obj","document","event","createEvent","initCustomEvent","dispatchEvent","dispatchToDOM","_listeners","_dispatchToDOM","listener","external","eventListeners","Array","prototype","slice","call","arguments","externalListeners","forEach","apply","options","splice","globalEventBus","v","min","units","querySelector","bar","parentNode","style","_indeterminate","classList","add","remove","progressSize","_percent","viewer","container","scrollbarWidth","offsetWidth","body","val","isNaN","_updateBar","arr","moved","len","write","read"],"mappings":"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","sourcesContent":["/**\n * @licstart The following is the entire license notice for the\n * Javascript code in this page\n *\n * Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @licend The above is the entire license notice for the\n * Javascript code in this page\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isValidRotation = isValidRotation;\nexports.isValidScrollMode = isValidScrollMode;\nexports.isValidSpreadMode = isValidSpreadMode;\nexports.isPortraitOrientation = isPortraitOrientation;\nexports.getGlobalEventBus = getGlobalEventBus;\nexports.clamp = clamp;\nexports.getPDFFileNameFromURL = getPDFFileNameFromURL;\nexports.noContextMenuHandler = noContextMenuHandler;\nexports.parseQueryString = parseQueryString;\nexports.backtrackBeforeAllVisibleElements = backtrackBeforeAllVisibleElements;\nexports.getVisibleElements = getVisibleElements;\nexports.roundToDivide = roundToDivide;\nexports.getPageSizeInches = getPageSizeInches;\nexports.approximateFraction = approximateFraction;\nexports.getOutputScale = getOutputScale;\nexports.scrollIntoView = scrollIntoView;\nexports.watchScroll = watchScroll;\nexports.binarySearchFirstItem = binarySearchFirstItem;\nexports.normalizeWheelEventDelta = normalizeWheelEventDelta;\nexports.waitOnEventOrTimeout = waitOnEventOrTimeout;\nexports.moveToEndOfArray = moveToEndOfArray;\nexports.WaitOnType = exports.animationStarted = exports.ProgressBar = exports.EventBus = exports.NullL10n = exports.SpreadMode = exports.ScrollMode = exports.TextLayerMode = exports.RendererType = exports.PresentationModeState = exports.VERTICAL_PADDING = exports.SCROLLBAR_PADDING = exports.MAX_AUTO_SCALE = exports.UNKNOWN_SCALE = exports.MAX_SCALE = exports.MIN_SCALE = exports.DEFAULT_SCALE = exports.DEFAULT_SCALE_VALUE = exports.CSS_UNITS = exports.AutoPrintRegExp = void 0;\nconst CSS_UNITS = 96.0 / 72.0;\nexports.CSS_UNITS = CSS_UNITS;\nconst DEFAULT_SCALE_VALUE = \"auto\";\nexports.DEFAULT_SCALE_VALUE = DEFAULT_SCALE_VALUE;\nconst DEFAULT_SCALE = 1.0;\nexports.DEFAULT_SCALE = DEFAULT_SCALE;\nconst MIN_SCALE = 0.1;\nexports.MIN_SCALE = MIN_SCALE;\nconst MAX_SCALE = 10.0;\nexports.MAX_SCALE = MAX_SCALE;\nconst UNKNOWN_SCALE = 0;\nexports.UNKNOWN_SCALE = UNKNOWN_SCALE;\nconst MAX_AUTO_SCALE = 1.25;\nexports.MAX_AUTO_SCALE = MAX_AUTO_SCALE;\nconst SCROLLBAR_PADDING = 40;\nexports.SCROLLBAR_PADDING = SCROLLBAR_PADDING;\nconst VERTICAL_PADDING = 5;\nexports.VERTICAL_PADDING = VERTICAL_PADDING;\nconst PresentationModeState = {\n  UNKNOWN: 0,\n  NORMAL: 1,\n  CHANGING: 2,\n  FULLSCREEN: 3\n};\nexports.PresentationModeState = PresentationModeState;\nconst RendererType = {\n  CANVAS: \"canvas\",\n  SVG: \"svg\"\n};\nexports.RendererType = RendererType;\nconst TextLayerMode = {\n  DISABLE: 0,\n  ENABLE: 1,\n  ENABLE_ENHANCE: 2\n};\nexports.TextLayerMode = TextLayerMode;\nconst ScrollMode = {\n  UNKNOWN: -1,\n  VERTICAL: 0,\n  HORIZONTAL: 1,\n  WRAPPED: 2\n};\nexports.ScrollMode = ScrollMode;\nconst SpreadMode = {\n  UNKNOWN: -1,\n  NONE: 0,\n  ODD: 1,\n  EVEN: 2\n};\nexports.SpreadMode = SpreadMode;\nconst AutoPrintRegExp = /\\bprint\\s*\\(/;\nexports.AutoPrintRegExp = AutoPrintRegExp;\n\nfunction formatL10nValue(text, args) {\n  if (!args) {\n    return text;\n  }\n\n  return text.replace(/\\{\\{\\s*(\\w+)\\s*\\}\\}/g, (all, name) => {\n    return name in args ? args[name] : \"{{\" + name + \"}}\";\n  });\n}\n\nconst NullL10n = {\n  async getLanguage() {\n    return \"en-us\";\n  },\n\n  async getDirection() {\n    return \"ltr\";\n  },\n\n  async get(property, args, fallback) {\n    return formatL10nValue(fallback, args);\n  },\n\n  async translate(element) {}\n\n};\nexports.NullL10n = NullL10n;\n\nfunction getOutputScale(ctx) {\n  const devicePixelRatio = window.devicePixelRatio || 1;\n  const backingStoreRatio = ctx.webkitBackingStorePixelRatio || ctx.mozBackingStorePixelRatio || ctx.msBackingStorePixelRatio || ctx.oBackingStorePixelRatio || ctx.backingStorePixelRatio || 1;\n  const pixelRatio = devicePixelRatio / backingStoreRatio;\n  return {\n    sx: pixelRatio,\n    sy: pixelRatio,\n    scaled: pixelRatio !== 1\n  };\n}\n\nfunction scrollIntoView(element, spot, skipOverflowHiddenElements = false) {\n  let parent = element.offsetParent;\n\n  if (!parent) {\n    console.error(\"offsetParent is not set -- cannot scroll\");\n    return;\n  }\n\n  let offsetY = element.offsetTop + element.clientTop;\n  let offsetX = element.offsetLeft + element.clientLeft;\n\n  while (parent.clientHeight === parent.scrollHeight && parent.clientWidth === parent.scrollWidth || skipOverflowHiddenElements && getComputedStyle(parent).overflow === \"hidden\") {\n    if (parent.dataset._scaleY) {\n      offsetY /= parent.dataset._scaleY;\n      offsetX /= parent.dataset._scaleX;\n    }\n\n    offsetY += parent.offsetTop;\n    offsetX += parent.offsetLeft;\n    parent = parent.offsetParent;\n\n    if (!parent) {\n      return;\n    }\n  }\n\n  if (spot) {\n    if (spot.top !== undefined) {\n      offsetY += spot.top;\n    }\n\n    if (spot.left !== undefined) {\n      offsetX += spot.left;\n      parent.scrollLeft = offsetX;\n    }\n  }\n\n  parent.scrollTop = offsetY;\n}\n\nfunction watchScroll(viewAreaElement, callback) {\n  const debounceScroll = function (evt) {\n    if (rAF) {\n      return;\n    }\n\n    rAF = window.requestAnimationFrame(function viewAreaElementScrolled() {\n      rAF = null;\n      const currentX = viewAreaElement.scrollLeft;\n      const lastX = state.lastX;\n\n      if (currentX !== lastX) {\n        state.right = currentX > lastX;\n      }\n\n      state.lastX = currentX;\n      const currentY = viewAreaElement.scrollTop;\n      const lastY = state.lastY;\n\n      if (currentY !== lastY) {\n        state.down = currentY > lastY;\n      }\n\n      state.lastY = currentY;\n      callback(state);\n    });\n  };\n\n  const state = {\n    right: true,\n    down: true,\n    lastX: viewAreaElement.scrollLeft,\n    lastY: viewAreaElement.scrollTop,\n    _eventHandler: debounceScroll\n  };\n  let rAF = null;\n  viewAreaElement.addEventListener(\"scroll\", debounceScroll, true);\n  return state;\n}\n\nfunction parseQueryString(query) {\n  const parts = query.split(\"&\");\n  const params = Object.create(null);\n\n  for (let i = 0, ii = parts.length; i < ii; ++i) {\n    const param = parts[i].split(\"=\");\n    const key = param[0].toLowerCase();\n    const value = param.length > 1 ? param[1] : null;\n    params[decodeURIComponent(key)] = decodeURIComponent(value);\n  }\n\n  return params;\n}\n\nfunction binarySearchFirstItem(items, condition) {\n  let minIndex = 0;\n  let maxIndex = items.length - 1;\n\n  if (items.length === 0 || !condition(items[maxIndex])) {\n    return items.length;\n  }\n\n  if (condition(items[minIndex])) {\n    return minIndex;\n  }\n\n  while (minIndex < maxIndex) {\n    const currentIndex = minIndex + maxIndex >> 1;\n    const currentItem = items[currentIndex];\n\n    if (condition(currentItem)) {\n      maxIndex = currentIndex;\n    } else {\n      minIndex = currentIndex + 1;\n    }\n  }\n\n  return minIndex;\n}\n\nfunction approximateFraction(x) {\n  if (Math.floor(x) === x) {\n    return [x, 1];\n  }\n\n  const xinv = 1 / x;\n  const limit = 8;\n\n  if (xinv > limit) {\n    return [1, limit];\n  } else if (Math.floor(xinv) === xinv) {\n    return [1, xinv];\n  }\n\n  const x_ = x > 1 ? xinv : x;\n  let a = 0,\n      b = 1,\n      c = 1,\n      d = 1;\n\n  while (true) {\n    const p = a + c,\n          q = b + d;\n\n    if (q > limit) {\n      break;\n    }\n\n    if (x_ <= p / q) {\n      c = p;\n      d = q;\n    } else {\n      a = p;\n      b = q;\n    }\n  }\n\n  let result;\n\n  if (x_ - a / b < c / d - x_) {\n    result = x_ === x ? [a, b] : [b, a];\n  } else {\n    result = x_ === x ? [c, d] : [d, c];\n  }\n\n  return result;\n}\n\nfunction roundToDivide(x, div) {\n  const r = x % div;\n  return r === 0 ? x : Math.round(x - r + div);\n}\n\nfunction getPageSizeInches({\n  view,\n  userUnit,\n  rotate\n}) {\n  const [x1, y1, x2, y2] = view;\n  const changeOrientation = rotate % 180 !== 0;\n  const width = (x2 - x1) / 72 * userUnit;\n  const height = (y2 - y1) / 72 * userUnit;\n  return {\n    width: changeOrientation ? height : width,\n    height: changeOrientation ? width : height\n  };\n}\n\nfunction backtrackBeforeAllVisibleElements(index, views, top) {\n  if (index < 2) {\n    return index;\n  }\n\n  let elt = views[index].div;\n  let pageTop = elt.offsetTop + elt.clientTop;\n\n  if (pageTop >= top) {\n    elt = views[index - 1].div;\n    pageTop = elt.offsetTop + elt.clientTop;\n  }\n\n  for (let i = index - 2; i >= 0; --i) {\n    elt = views[i].div;\n\n    if (elt.offsetTop + elt.clientTop + elt.clientHeight <= pageTop) {\n      break;\n    }\n\n    index = i;\n  }\n\n  return index;\n}\n\nfunction getVisibleElements(scrollEl, views, sortByVisibility = false, horizontal = false) {\n  const top = scrollEl.scrollTop,\n        bottom = top + scrollEl.clientHeight;\n  const left = scrollEl.scrollLeft,\n        right = left + scrollEl.clientWidth;\n\n  function isElementBottomAfterViewTop(view) {\n    const element = view.div;\n    const elementBottom = element.offsetTop + element.clientTop + element.clientHeight;\n    return elementBottom > top;\n  }\n\n  function isElementRightAfterViewLeft(view) {\n    const element = view.div;\n    const elementRight = element.offsetLeft + element.clientLeft + element.clientWidth;\n    return elementRight > left;\n  }\n\n  const visible = [],\n        numViews = views.length;\n  let firstVisibleElementInd = numViews === 0 ? 0 : binarySearchFirstItem(views, horizontal ? isElementRightAfterViewLeft : isElementBottomAfterViewTop);\n\n  if (firstVisibleElementInd > 0 && firstVisibleElementInd < numViews && !horizontal) {\n    firstVisibleElementInd = backtrackBeforeAllVisibleElements(firstVisibleElementInd, views, top);\n  }\n\n  let lastEdge = horizontal ? right : -1;\n\n  for (let i = firstVisibleElementInd; i < numViews; i++) {\n    const view = views[i],\n          element = view.div;\n    const currentWidth = element.offsetLeft + element.clientLeft;\n    const currentHeight = element.offsetTop + element.clientTop;\n    const viewWidth = element.clientWidth,\n          viewHeight = element.clientHeight;\n    const viewRight = currentWidth + viewWidth;\n    const viewBottom = currentHeight + viewHeight;\n\n    if (lastEdge === -1) {\n      if (viewBottom >= bottom) {\n        lastEdge = viewBottom;\n      }\n    } else if ((horizontal ? currentWidth : currentHeight) > lastEdge) {\n      break;\n    }\n\n    if (viewBottom <= top || currentHeight >= bottom || viewRight <= left || currentWidth >= right) {\n      continue;\n    }\n\n    const hiddenHeight = Math.max(0, top - currentHeight) + Math.max(0, viewBottom - bottom);\n    const hiddenWidth = Math.max(0, left - currentWidth) + Math.max(0, viewRight - right);\n    const percent = (viewHeight - hiddenHeight) * (viewWidth - hiddenWidth) * 100 / viewHeight / viewWidth | 0;\n    visible.push({\n      id: view.id,\n      x: currentWidth,\n      y: currentHeight,\n      view,\n      percent\n    });\n  }\n\n  const first = visible[0],\n        last = visible[visible.length - 1];\n\n  if (sortByVisibility) {\n    visible.sort(function (a, b) {\n      const pc = a.percent - b.percent;\n\n      if (Math.abs(pc) > 0.001) {\n        return -pc;\n      }\n\n      return a.id - b.id;\n    });\n  }\n\n  return {\n    first,\n    last,\n    views: visible\n  };\n}\n\nfunction noContextMenuHandler(evt) {\n  evt.preventDefault();\n}\n\nfunction isDataSchema(url) {\n  let i = 0;\n  const ii = url.length;\n\n  while (i < ii && url[i].trim() === \"\") {\n    i++;\n  }\n\n  return url.substring(i, i + 5).toLowerCase() === \"data:\";\n}\n\nfunction getPDFFileNameFromURL(url, defaultFilename = \"document.pdf\") {\n  if (typeof url !== \"string\") {\n    return defaultFilename;\n  }\n\n  if (isDataSchema(url)) {\n    console.warn(\"getPDFFileNameFromURL: \" + 'ignoring \"data:\" URL for performance reasons.');\n    return defaultFilename;\n  }\n\n  const reURI = /^(?:(?:[^:]+:)?\\/\\/[^\\/]+)?([^?#]*)(\\?[^#]*)?(#.*)?$/;\n  const reFilename = /[^\\/?#=]+\\.pdf\\b(?!.*\\.pdf\\b)/i;\n  const splitURI = reURI.exec(url);\n  let suggestedFilename = reFilename.exec(splitURI[1]) || reFilename.exec(splitURI[2]) || reFilename.exec(splitURI[3]);\n\n  if (suggestedFilename) {\n    suggestedFilename = suggestedFilename[0];\n\n    if (suggestedFilename.includes(\"%\")) {\n      try {\n        suggestedFilename = reFilename.exec(decodeURIComponent(suggestedFilename))[0];\n      } catch (ex) {}\n    }\n  }\n\n  return suggestedFilename || defaultFilename;\n}\n\nfunction normalizeWheelEventDelta(evt) {\n  let delta = Math.sqrt(evt.deltaX * evt.deltaX + evt.deltaY * evt.deltaY);\n  const angle = Math.atan2(evt.deltaY, evt.deltaX);\n\n  if (-0.25 * Math.PI < angle && angle < 0.75 * Math.PI) {\n    delta = -delta;\n  }\n\n  const MOUSE_DOM_DELTA_PIXEL_MODE = 0;\n  const MOUSE_DOM_DELTA_LINE_MODE = 1;\n  const MOUSE_PIXELS_PER_LINE = 30;\n  const MOUSE_LINES_PER_PAGE = 30;\n\n  if (evt.deltaMode === MOUSE_DOM_DELTA_PIXEL_MODE) {\n    delta /= MOUSE_PIXELS_PER_LINE * MOUSE_LINES_PER_PAGE;\n  } else if (evt.deltaMode === MOUSE_DOM_DELTA_LINE_MODE) {\n    delta /= MOUSE_LINES_PER_PAGE;\n  }\n\n  return delta;\n}\n\nfunction isValidRotation(angle) {\n  return Number.isInteger(angle) && angle % 90 === 0;\n}\n\nfunction isValidScrollMode(mode) {\n  return Number.isInteger(mode) && Object.values(ScrollMode).includes(mode) && mode !== ScrollMode.UNKNOWN;\n}\n\nfunction isValidSpreadMode(mode) {\n  return Number.isInteger(mode) && Object.values(SpreadMode).includes(mode) && mode !== SpreadMode.UNKNOWN;\n}\n\nfunction isPortraitOrientation(size) {\n  return size.width <= size.height;\n}\n\nconst WaitOnType = {\n  EVENT: \"event\",\n  TIMEOUT: \"timeout\"\n};\nexports.WaitOnType = WaitOnType;\n\nfunction waitOnEventOrTimeout({\n  target,\n  name,\n  delay = 0\n}) {\n  return new Promise(function (resolve, reject) {\n    if (typeof target !== \"object\" || !(name && typeof name === \"string\") || !(Number.isInteger(delay) && delay >= 0)) {\n      throw new Error(\"waitOnEventOrTimeout - invalid parameters.\");\n    }\n\n    function handler(type) {\n      if (target instanceof EventBus) {\n        target._off(name, eventHandler);\n      } else {\n        target.removeEventListener(name, eventHandler);\n      }\n\n      if (timeout) {\n        clearTimeout(timeout);\n      }\n\n      resolve(type);\n    }\n\n    const eventHandler = handler.bind(null, WaitOnType.EVENT);\n\n    if (target instanceof EventBus) {\n      target._on(name, eventHandler);\n    } else {\n      target.addEventListener(name, eventHandler);\n    }\n\n    const timeoutHandler = handler.bind(null, WaitOnType.TIMEOUT);\n    const timeout = setTimeout(timeoutHandler, delay);\n  });\n}\n\nconst animationStarted = new Promise(function (resolve) {\n  window.requestAnimationFrame(resolve);\n});\nexports.animationStarted = animationStarted;\n\nfunction dispatchDOMEvent(eventName, args = null) {\n  const details = Object.create(null);\n\n  if (args && args.length > 0) {\n    const obj = args[0];\n\n    for (const key in obj) {\n      const value = obj[key];\n\n      if (key === \"source\") {\n        if (value === window || value === document) {\n          return;\n        }\n\n        continue;\n      }\n\n      details[key] = value;\n    }\n  }\n\n  const event = document.createEvent(\"CustomEvent\");\n  event.initCustomEvent(eventName, true, true, details);\n  document.dispatchEvent(event);\n}\n\nclass EventBus {\n  constructor({\n    dispatchToDOM = false\n  } = {}) {\n    this._listeners = Object.create(null);\n    this._dispatchToDOM = dispatchToDOM === true;\n\n    if (dispatchToDOM) {\n      console.error(\"The `eventBusDispatchToDOM` option/preference is deprecated, \" + \"add event listeners to the EventBus instance rather than the DOM.\");\n    }\n  }\n\n  on(eventName, listener) {\n    this._on(eventName, listener, {\n      external: true\n    });\n  }\n\n  off(eventName, listener) {\n    this._off(eventName, listener, {\n      external: true\n    });\n  }\n\n  dispatch(eventName) {\n    const eventListeners = this._listeners[eventName];\n\n    if (!eventListeners || eventListeners.length === 0) {\n      if (this._dispatchToDOM) {\n        const args = Array.prototype.slice.call(arguments, 1);\n        dispatchDOMEvent(eventName, args);\n      }\n\n      return;\n    }\n\n    const args = Array.prototype.slice.call(arguments, 1);\n    let externalListeners;\n    eventListeners.slice(0).forEach(function ({\n      listener,\n      external\n    }) {\n      if (external) {\n        if (!externalListeners) {\n          externalListeners = [];\n        }\n\n        externalListeners.push(listener);\n        return;\n      }\n\n      listener.apply(null, args);\n    });\n\n    if (externalListeners) {\n      externalListeners.forEach(function (listener) {\n        listener.apply(null, args);\n      });\n      externalListeners = null;\n    }\n\n    if (this._dispatchToDOM) {\n      dispatchDOMEvent(eventName, args);\n    }\n  }\n\n  _on(eventName, listener, options = null) {\n    let eventListeners = this._listeners[eventName];\n\n    if (!eventListeners) {\n      this._listeners[eventName] = eventListeners = [];\n    }\n\n    eventListeners.push({\n      listener,\n      external: (options && options.external) === true\n    });\n  }\n\n  _off(eventName, listener, options = null) {\n    const eventListeners = this._listeners[eventName];\n\n    if (!eventListeners) {\n      return;\n    }\n\n    for (let i = 0, ii = eventListeners.length; i < ii; i++) {\n      if (eventListeners[i].listener === listener) {\n        eventListeners.splice(i, 1);\n        return;\n      }\n    }\n  }\n\n}\n\nexports.EventBus = EventBus;\nlet globalEventBus = null;\n\nfunction getGlobalEventBus(dispatchToDOM = false) {\n  console.error(\"getGlobalEventBus is deprecated, use a manually created EventBus instance instead.\");\n\n  if (!globalEventBus) {\n    globalEventBus = new EventBus({\n      dispatchToDOM\n    });\n  }\n\n  return globalEventBus;\n}\n\nfunction clamp(v, min, max) {\n  return Math.min(Math.max(v, min), max);\n}\n\nclass ProgressBar {\n  constructor(id, {\n    height,\n    width,\n    units\n  } = {}) {\n    this.visible = true;\n    this.div = document.querySelector(id + \" .progress\");\n    this.bar = this.div.parentNode;\n    this.height = height || 100;\n    this.width = width || 100;\n    this.units = units || \"%\";\n    this.div.style.height = this.height + this.units;\n    this.percent = 0;\n  }\n\n  _updateBar() {\n    if (this._indeterminate) {\n      this.div.classList.add(\"indeterminate\");\n      this.div.style.width = this.width + this.units;\n      return;\n    }\n\n    this.div.classList.remove(\"indeterminate\");\n    const progressSize = this.width * this._percent / 100;\n    this.div.style.width = progressSize + this.units;\n  }\n\n  get percent() {\n    return this._percent;\n  }\n\n  set percent(val) {\n    this._indeterminate = isNaN(val);\n    this._percent = clamp(val, 0, 100);\n\n    this._updateBar();\n  }\n\n  setWidth(viewer) {\n    if (!viewer) {\n      return;\n    }\n\n    const container = viewer.parentNode;\n    const scrollbarWidth = container.offsetWidth - viewer.offsetWidth;\n\n    if (scrollbarWidth > 0) {\n      this.bar.style.width = `calc(100% - ${scrollbarWidth}px)`;\n    }\n  }\n\n  hide() {\n    if (!this.visible) {\n      return;\n    }\n\n    this.visible = false;\n    this.bar.classList.add(\"hidden\");\n    document.body.classList.remove(\"loadingInProgress\");\n  }\n\n  show() {\n    if (this.visible) {\n      return;\n    }\n\n    this.visible = true;\n    document.body.classList.add(\"loadingInProgress\");\n    this.bar.classList.remove(\"hidden\");\n  }\n\n}\n\nexports.ProgressBar = ProgressBar;\n\nfunction moveToEndOfArray(arr, condition) {\n  const moved = [],\n        len = arr.length;\n  let write = 0;\n\n  for (let read = 0; read < len; ++read) {\n    if (condition(arr[read])) {\n      moved.push(arr[read]);\n    } else {\n      arr[write] = arr[read];\n      ++write;\n    }\n  }\n\n  for (let read = 0; write < len; ++read, ++write) {\n    arr[write] = moved[read];\n  }\n}"]},"metadata":{},"sourceType":"script"}